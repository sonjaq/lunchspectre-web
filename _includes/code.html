<section class="hero is-fullheight has-text-centered" id="code">
    <div class="hero-body">
        <div class="container">
            <script>
                function getCode(el) {
                    el.disabled = true;
                    el.innerHTML = '<i class="fa fa-spinner fa-spin"></i>';
                    var x = document.getElementById("code-placeholder");
                    fetch('/.netlify/functions/get-a-code').then(function (response) {
                        return response.json();
                    }).then(function (data) {
                        x.innerHTML = data.html;
                        el.innerHTML = '<i class="fa fa-check"></i>Thanks for your support!';
                    });
                }
            </script>
            <h2 class="has-text-black hero has-text-weight-bold is-size-2">Free downloads at Bandcamp</h2>
            <button onclick="getCode(this)" class="mt-3 button is-rounded is-uppercase is-black is-two-fifths">
                GIMME A CODE
            </button>
            <div id="code-placeholder"></div>
        </div>
    </div>
</section>